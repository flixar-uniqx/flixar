<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0f1014; --card: #1b1c22; --primary: #00d2ff; --text: #f5f5f5; }
        body { margin: 0; font-family: 'Raleway', sans-serif; background: var(--bg); color: var(--text); padding: 20px; }
        
        .login-box { max-width: 400px; margin: 100px auto; background: var(--card); padding: 40px; border-radius: 8px; text-align: center; }
        .admin-content { display: none; max-width: 800px; margin: 0 auto; }
        
        input, select, textarea { width: 100%; padding: 10px; margin: 10px 0; background: #23242a; border: 1px solid #333; color: white; border-radius: 4px; font-family: inherit; }
        input:focus, textarea:focus { border-color: var(--primary); outline: none; }
        
        button { padding: 10px 20px; background: var(--primary); border: none; color: #000; font-weight: bold; border-radius: 4px; cursor: pointer; }
        h2 { color: var(--primary); border-bottom: 1px solid #333; padding-bottom: 10px; }
        label { display: block; margin-top: 15px; font-size: 0.9rem; color: #aaa; text-transform: uppercase; letter-spacing: 1px; }
    </style>
</head>
<body>

    <div class="login-box" id="login">
        <h2>Admin Access</h2>
        <input type="password" id="pass" placeholder="Enter Password">
        <button onclick="checkPass()">Login</button>
    </div>

    <div class="admin-content" id="panel">
        <h2>Add New Entry</h2>
        
        <label>ID (Unique)</label>
        <input type="text" id="id" placeholder="e.g. mv_050 or tv_020">

        <label>Type</label>
        <select id="type"><option>Movie</option><option>TV Series</option></select>

        <label>Title</label>
        <input type="text" id="title">

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
            <div><label>Year</label><input type="text" id="year"></div>
            <div><label>Rating</label><input type="text" id="rating"></div>
        </div>

        <label>Genres (Comma Separated)</label>
        <input type="text" id="genre" placeholder="Action, Drama, Sci-Fi">

        <label>Poster URL</label>
        <input type="text" id="poster">

        <label>Backdrop URL</label>
        <input type="text" id="backdrop">

        <label>YouTube Embed Link</label>
        <input type="text" id="trailer" placeholder="https://www.youtube.com/embed/...">

        <label>Description</label>
        <textarea id="desc" rows="3"></textarea>

        <label style="color:var(--primary)">Downloads / Episodes JSON</label>
        <p style="font-size:0.8rem; color:#666;">Paste the array code here.</p>
        <textarea id="extra_json" rows="5" placeholder='[{"quality":"1080p","size":"1.2GB","link":"#"}]'></textarea>

        <button onclick="generate()" style="width:100%; margin-top:20px;">GENERATE JSON CODE</button>
        
        <label>Result (Copy this to movies.json)</label>
        <textarea id="output" rows="10" style="background:#000; color:#0f0; font-family:monospace;"></textarea>
    </div>

    <script>
        // CHANGE THIS PASSWORD
        const PASS = "1234";

        function checkPass() {
            if(document.getElementById('pass').value === PASS) {
                document.getElementById('login').style.display = 'none';
                document.getElementById('panel').style.display = 'block';
            } else {
                alert("Wrong Password");
            }
        }

        function generate() {
            const type = document.getElementById('type').value;
            let obj = {
                id: document.getElementById('id').value,
                type: type,
                layout_mode: type === 'Movie' ? 'movie' : 'series', // Auto-set layout
                title: document.getElementById('title').value,
                year: document.getElementById('year').value,
                genre: document.getElementById('genre').value,
                rating: document.getElementById('rating').value,
                poster: document.getElementById('poster').value,
                backdrop: document.getElementById('backdrop').value,
                description: document.getElementById('desc').value,
                trailer_embed: document.getElementById('trailer').value
            };

            try {
                const extra = JSON.parse(document.getElementById('extra_json').value || "[]");
                if(type === 'Movie') obj.downloads = extra;
                else obj.seasons = extra;
            } catch(e) {
                alert("Invalid JSON format in Downloads box!");
                return;
            }

            document.getElementById('output').value = ",\n" + JSON.stringify(obj, null, 2);
        }
    </script>
</body>
</html>
